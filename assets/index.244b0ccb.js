var ue=Object.defineProperty,pe=Object.defineProperties;var me=Object.getOwnPropertyDescriptors;var te=Object.getOwnPropertySymbols;var ye=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable;var se=(e,t,n)=>t in e?ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))ye.call(t,n)&&se(e,n,t[n]);if(te)for(var n of te(t))he.call(t,n)&&se(e,n,t[n]);return e},T=(e,t)=>pe(e,me(t));import{m as h,u as A,a as fe,r as b,c as d,b as s,d as _,w as P,t as p,F as x,e as O,p as S,f as C,o as l,g as v,h as Y,i as L,j as ne,k as _e,T as m,I as w,C as D,l as B,n as g,q as $,v as M,A as U,s as K,x as ge,y as ae,z as be,B as ve,D as we,E as De,P as ke,V as Ne,G as Te}from"./vendor.5c15b527.js";const xe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}};xe();var Ae="data:image/png;base64,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";var k=(e,t)=>{for(const[n,r]of t)e[n]=r;return e};const Se={name:"Navbar",computed:T(u(u({},h("user",["getUserShortAddress","getUserSelectedName"])),h("network",["getNetworkName","getSupportedNetworks","getSupportedNetworkNames"])),{getNameOrAddress(){return this.getUserSelectedName?this.getUserSelectedName:this.getUserShortAddress}}),methods:{changeNetwork(e){let t,n;e=="Ropsten"?(t="wallet_switchEthereumChain",n=[{chainId:"0x3"}]):e=="Mumbai"?(t="wallet_addEthereumChain",n=[{blockExplorerUrls:["https://mumbai.polygonscan.com"],chainId:"0x13881",chainName:"Mumbai Testnet",nativeCurrency:{decimals:18,name:"Matic",symbol:"MATIC"},rpcUrls:["https://matic-mumbai.chainstacklabs.com"]}]):e=="Arbitrum Testnet"?(t="wallet_addEthereumChain",n=[{blockExplorerUrls:["https://rinkeby-explorer.arbitrum.io/"],chainId:"0x66EEB",chainName:"Arbitrum Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:["https://rinkeby.arbitrum.io/rpc"]}]):e=="Optimism Testnet"&&(t="wallet_addEthereumChain",n=[{blockExplorerUrls:["https://kovan-optimistic.etherscan.io/"],chainId:"0x45",chainName:"Optimism Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:["https://kovan.optimism.io"]}]),window.ethereum.request({method:t,params:n})}},setup(){const{open:e}=fe(),{isActivated:t}=A();return{isActivated:t,open:e}}},ie=e=>(S("data-v-2f1158fb"),e=e(),C(),e),Ce={class:"navbar sticky-top navbar-expand-lg navbar-dark"},Ie={class:"container-fluid"},Ue=ie(()=>s("img",{src:Ae,alt:"",width:"30",class:"d-inline-block align-bottom navbar-img"},null,-1)),Ee=v(" Punk Domains "),$e=ie(()=>s("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[s("span",{class:"navbar-toggler-icon"})],-1)),Me={class:"collapse navbar-collapse",id:"navbarSupportedContent"},Pe={class:"d-flex ms-auto"},Oe={key:0,class:""},Be={class:"btn-group mx-2"},Re={class:"btn btn-primary dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},Fe={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},Le=["onClick"];function Ke(e,t,n,r,i,a){const o=b("router-link");return l(),d("nav",Ce,[s("div",Ie,[_(o,{to:"/",class:"navbar-brand"},{default:P(()=>[Ue,Ee]),_:1}),$e,s("div",Me,[s("div",Pe,[r.isActivated?(l(),d("div",Oe,[s("div",Be,[s("button",Re,p(e.getNetworkName),1),s("ul",Fe,[s("li",null,[(l(!0),d(x,null,O(e.getSupportedNetworkNames,c=>(l(),d("span",{class:"dropdown-item",onClick:f=>a.changeNetwork(c)},p(c),9,Le))),256))])])]),s("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=c=>this.$router.push({name:"Profile"}))},p(a.getNameOrAddress),1)])):(l(),d("button",{key:1,class:"btn btn-primary",onClick:t[1]||(t[1]=(...c)=>r.open&&r.open(...c))},"Connect wallet"))])])])])}var Ve=k(Se,[["render",Ke],["__scopeId","data-v-2f1158fb"]]);const Je={name:"Footer"},oe=e=>(S("data-v-034f2f1a"),e=e(),C(),e),qe={class:"container-fluid text-center mt-3"},We=oe(()=>s("a",{target:"_blank",href:"https://icons8.com/icon/f34LtRddK1jj/man"},"Man",-1)),He=v(" icon by "),je=oe(()=>s("a",{target:"_blank",href:"https://icons8.com"},"Icons8",-1)),Ye=[We,He,je];function Ze(e,t,n,r,i,a){return l(),d("div",qe,Ye)}var Xe=k(Je,[["render",Ze],["__scopeId","data-v-034f2f1a"]]);const Qe={components:{Navbar:Ve,Footer:Xe},computed:u({},h("user",["getUserSelectedName"])),methods:T(u(u(u(u(u({},Y("punk",["fetchTlds"])),Y("user",["fetchUserDomainNames"])),L("user",["setUserData"])),L("network",["setNetworkData"])),L("punk",["setFactoryContract"])),{fetchAllData(){this.setUserData(),this.setNetworkData(),this.setFactoryContract(),this.fetchTlds()}}),setup(){const{address:e,chainId:t,isActivated:n}=A(),{connect:r}=ne();return _e(()=>{!n.value&&localStorage.getItem("connected")=="metamask"&&r("metamask")}),{address:e,chainId:t,connect:r,isActivated:n}},watch:{address(e,t){e&&(this.setUserData(),this.fetchUserDomainNames(!0))},chainId(e,t){!this.isActivated&&localStorage.getItem("connected")=="metamask"&&this.connect("metamask"),this.chainId>=1&&(this.fetchAllData(),this.fetchUserDomainNames(!0))},isActivated(e,t){(!localStorage.getItem("connected")||localStorage.getItem("connected")==="null")&&localStorage.setItem("connected","metamask")}}},ze={class:"main-container"};function Ge(e,t,n,r,i,a){const o=b("Navbar"),c=b("router-view"),f=b("Footer"),y=b("vdapp-board");return l(),d(x,null,[_(o),s("div",ze,[_(c),_(f)]),_(y)],64)}var et=k(Qe,[["render",Ge],["__scopeId","data-v-5ee4011b"]]);const tt="modulepreload",re={},st="/",nt=function(t,n){return!n||n.length===0?t():Promise.all(n.map(r=>{if(r=`${st}${r}`,r in re)return;re[r]=!0;const i=r.endsWith(".css"),a=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${a}`))return;const o=document.createElement("link");if(o.rel=i?"stylesheet":tt,i||(o.as="script",o.crossOrigin=""),o.href=r,document.head.appendChild(o),i)return new Promise((c,f)=>{o.addEventListener("load",c),o.addEventListener("error",f)})})).then(()=>t())};const at={name:"About"},de=e=>(S("data-v-6c640728"),e=e(),C(),e),it=de(()=>s("div",{class:"text-center main-text"},"Punk.Domains",-1)),ot=de(()=>s("div",{class:"text-center sub-text"},"Permissionless Web3 Domains",-1));function rt(e,t,n,r,i,a){return l(),d(x,null,[it,ot],64)}var dt=k(at,[["render",rt],["__scopeId","data-v-6c640728"]]);const lt={name:"Sidebar",computed:T(u({},h("user",["getUserSelectedName","getUserShortAddress","getUserSelectedNameImageSvg"])),{getNameOrAddress(){return this.getUserSelectedName?this.getUserSelectedName:this.getUserShortAddress},getUserImage(){return this.getUserSelectedNameImageSvg?this.getUserSelectedNameImageSvg:"https://upload.wikimedia.org/wikipedia/commons/b/bc/Unknown_person.jpg"}}),setup(){const{disconnect:e}=ne();return{disconnect:e}}},V=e=>(S("data-v-d71b722a"),e=e(),C(),e),ct={class:"container"},ut=["src"],pt={class:"text-center mt-2 text-break"},mt=V(()=>s("hr",null,null,-1)),yt=V(()=>s("i",{class:"bi bi-person"},null,-1)),ht=v(" Profile "),ft=V(()=>s("i",{class:"bi bi-cart4"},null,-1)),_t=v(" Buy domain "),gt=V(()=>s("i",{class:"bi bi-search"},null,-1)),bt=v(" Search domain "),vt=V(()=>s("i",{class:"bi bi-send"},null,-1)),wt=v(" Send tokens "),Dt=V(()=>s("i",{class:"bi bi-window-plus"},null,-1)),kt=v(" Browser extension ");function Nt(e,t,n,r,i,a){const o=b("router-link");return l(),d("div",ct,[s("img",{src:a.getUserImage,class:"img-fluid img-thumbnail"},null,8,ut),s("h3",pt,p(a.getNameOrAddress),1),mt,_(o,{class:"btn btn-sidebar text-start",to:"/profile"},{default:P(()=>[yt,ht]),_:1}),_(o,{class:"btn btn-sidebar text-start",to:"/"},{default:P(()=>[ft,_t]),_:1}),_(o,{class:"btn btn-sidebar text-start",to:"/search-domain"},{default:P(()=>[gt,bt]),_:1}),_(o,{class:"btn btn-sidebar text-start",to:"#"},{default:P(()=>[vt,wt]),_:1}),_(o,{class:"btn btn-sidebar text-start",to:"/browser"},{default:P(()=>[Dt,kt]),_:1})])}var Z=k(lt,[["render",Nt],["__scopeId","data-v-d71b722a"]]),Tt="/assets/chrome-logo.f7a9cfbf.png",xt="/assets/firefox-logo.1191b73d.png";const At={name:"BrowserExtension",components:{Sidebar:Z}},St=e=>(S("data-v-d331639a"),e=e(),C(),e),Ct={class:"row"},It={class:"col-md-3",id:"sidebar-container"},Ut=St(()=>s("div",{class:"col-md-9"},[s("div",{class:"row"},[s("div",{class:"col-md-12 mb-3"},[s("div",{class:"container text-center"},[s("h3",null,"Browser Extension/Plugin"),s("p",{class:"text-wrap p-4"}," Punk Domains browser extension allows you to enter a Punk domain name in the URL bar and the extension will redirect you to the URL that is set for that domain. If no URL is set, the extension will redirect you to the domain page on the Punk Domains website. ")])])]),s("div",{class:"row"},[s("div",{class:"col-md-6 mb-3"},[s("div",{class:"container text-center"},[s("h3",null,"Chrome/Brave"),s("p",null,[s("small",null,[s("em",null,"Coming soon!")])]),s("img",{class:"img-fluid browser-img mb-3",src:Tt})])]),s("div",{class:"col-md-6 mb-3"},[s("div",{class:"container text-center"},[s("h3",null,"Firefox"),s("p",null,[s("small",null,[s("em",null,"Coming soon!")])]),s("img",{class:"img-fluid browser-img mb-3",src:xt})])])])],-1));function Et(e,t,n,r,i,a){const o=b("Sidebar");return l(),d("div",Ct,[s("div",It,[_(o)]),Ut])}var $t=k(At,[["render",Et],["__scopeId","data-v-d331639a"]]),I=[{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"address",name:"_tldOwner",type:"address"},{internalType:"uint256",name:"_domainPrice",type:"uint256"},{internalType:"bool",name:"_buyingEnabled",type:"bool"},{internalType:"uint256",name:"_royalty",type:"uint256"},{internalType:"address",name:"_factoryAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"}],name:"DataChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"string",name:"defaultDomain",type:"string"}],name:"DefaultDomainChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"string",name:"fullDomainName",type:"string"}],name:"DomainCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"pfpAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"pfpTokenId",type:"uint256"}],name:"PfpChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"bool",name:"valid",type:"bool"}],name:"PfpValidated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"string",name:"url",type:"string"}],name:"UrlChanged",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"buyingEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_maxLength",type:"uint256"}],name:"changeNameMaxLength",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_price",type:"uint256"}],name:"changePrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_royalty",type:"uint256"}],name:"changeRoyalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"defaultNames",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"domainIdsNames",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"domains",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"holder",type:"address"},{internalType:"string",name:"data",type:"string"},{internalType:"string",name:"url",type:"string"},{internalType:"address",name:"pfpAddress",type:"address"},{internalType:"uint256",name:"pfpTokenId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"},{internalType:"string",name:"_data",type:"string"}],name:"editData",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"}],name:"editDefaultDomain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"},{internalType:"address",name:"_pfpAddress",type:"address"},{internalType:"uint256",name:"_pfpTokenId",type:"uint256"}],name:"editPfp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"},{internalType:"string",name:"_url",type:"string"}],name:"editUrl",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"factoryAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"}],name:"getDomainData",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"}],name:"getDomainHolder",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"}],name:"getDomainPfpAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"}],name:"getDomainPfpTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"}],name:"getDomainUrl",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getFactoryOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"},{internalType:"address",name:"_domainHolder",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"},{internalType:"address",name:"_domainHolder",type:"address"},{internalType:"string",name:"_data",type:"string"},{internalType:"string",name:"_url",type:"string"},{internalType:"address",name:"_pfpAddress",type:"address"},{internalType:"uint256",name:"_pfpTokenId",type:"uint256"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nameMaxLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"},{internalType:"address",name:"_domainHolder",type:"address"}],name:"ownerMintDomain",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"royalty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"toggleBuyingDomains",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"validatePfp",outputs:[],stateMutability:"nonpayable",type:"function"}];const Mt={name:"WaitingToast",props:["text"]},Pt=s("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),Ot={class:"mx-2"};function Bt(e,t,n,r,i,a){return l(),d("div",null,[Pt,s("span",Ot,p(n.text),1)])}var X=k(Mt,[["render",Bt]]);const Rt={name:"EditOtherData",emits:["fetchData"],props:["domainData","tld","domainName"],data(){return{btnInactive:!1,fields:[],tldContract:null}},computed:T(u(u({},h("punk",["getTldAddressesKey","getTldAddresses"])),h("network",["getBlockExplorerBaseUrl"])),{customData(){if(this.domainData)try{return JSON.parse(this.domainData.data)}catch{return null}return null},isOwner(){if(this.domainData)return String(this.address).toLowerCase()===String(this.domainData.holder).toLowerCase()}}),methods:{addField(){this.fields.push({dataKey:"",dataValue:""})},removeField(e){this.fields.splice(e,1)},async editData(){this.btnInactive=!0,this.tldContract||this.setContract();const e={};for(let t of this.fields)t.dataKey&&t.dataValue&&(e[t.dataKey]=t.dataValue);if(this.tldContract)try{const t=await this.tldContract.editData(this.domainName,JSON.stringify(e));document.getElementById("closeCustomDataModal").click();const n=this.toast({component:X,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:m.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+t.hash,"_blank").focus()}),r=await t.wait();r.status===1?(this.toast.dismiss(n),this.toast("You have successfully updated your domain's custom data!",{type:m.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+t.hash,"_blank").focus()}),this.$emit("fetchData"),this.btnInactive=!1):(this.toast.dismiss(n),this.toast("Transaction has failed.",{type:m.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+t.hash,"_blank").focus()}),console.log(r),this.btnInactive=!1,this.inputUrl=this.domainData.url)}catch(t){this.btnInactive=!1,console.log(t),this.toast(t.message,{type:m.ERROR}),this.inputUrl=this.domainData.url}},setContract(){let e=this.getTldAddresses;if(!e){const t=localStorage.getItem(this.getTldAddressesKey);t&&(e=JSON.parse(t))}if(e&&JSON.stringify(e)!="{}"){const t=e["."+this.tld],n=new w(I);this.tldContract=new D(t,n,this.signer)}}},setup(){const{address:e,signer:t}=A(),n=B();return{address:e,signer:t,toast:n}},watch:{domainData(){if(this.domainData&&this.domainData.data&&this.fields.length===0){const e=JSON.parse(this.domainData.data);for(const[t,n]of Object.entries(e))this.fields.push({dataKey:t,dataValue:n})}this.setContract()}}},J=e=>(S("data-v-553b0b82"),e=e(),C(),e),Ft={class:"mb-3 row domain-data mt-4"},Lt={class:"col-sm-3 punk-title"},Kt={class:"col-sm-9 punk-text"},Vt={key:1,class:"btn btn-primary btn-lg mx-3 mt-3","data-bs-toggle":"modal","data-bs-target":"#editDataModal"},Jt={class:"modal fade text-start",id:"editDataModal",tabindex:"-1","aria-labelledby":"editDataModalLabel","aria-hidden":"true"},qt={class:"modal-dialog modal-dialog-centered"},Wt={class:"modal-content"},Ht=J(()=>s("div",{class:"modal-header"},[s("h5",{class:"modal-title",id:"editDataModalLabel"},"Edit other data"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),jt={class:"modal-body"},Yt=J(()=>s("p",null," You can add custom data to this domain. ",-1)),Zt=J(()=>s("p",null," Example: twitter -> myhandle ",-1)),Xt={class:"input-group mb-3 mt-4"},Qt=["onUpdate:modelValue"],zt=J(()=>s("span",{class:"input-group-text"},[s("i",{class:"bi bi-arrow-right"})],-1)),Gt=["onUpdate:modelValue"],es=["onClick"],ts=J(()=>s("i",{class:"bi bi-x-circle"},null,-1)),ss=[ts],ns={class:"modal-footer"},as=["disabled"],is=J(()=>s("button",{id:"closeCustomDataModal",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1));function os(e,t,n,r,i,a){return l(),d(x,null,[a.customData?(l(!0),d(x,{key:0},O(a.customData,(o,c)=>(l(),d("div",Ft,[s("div",Lt,p(c.charAt(0).toUpperCase()+c.slice(1)),1),s("div",Kt,p(o),1)]))),256)):g("",!0),a.isOwner?(l(),d("button",Vt," Edit data ")):g("",!0),s("div",Jt,[s("div",qt,[s("div",Wt,[Ht,s("div",jt,[Yt,Zt,a.customData?(l(!0),d(x,{key:0},O(i.fields,(o,c)=>(l(),d("div",Xt,[$((l(),d("input",{type:"text",key:"dataKey"+c,class:"form-control","onUpdate:modelValue":f=>o.dataKey=f,placeholder:"Enter key (like twitter)"},null,8,Qt)),[[M,o.dataKey]]),zt,$((l(),d("input",{type:"text",class:"form-control",key:"dataValue"+c,"onUpdate:modelValue":f=>o.dataValue=f,placeholder:"Enter value"},null,8,Gt)),[[M,o.dataValue]]),s("span",{class:"input-group-text",onClick:f=>a.removeField(c)},ss,8,es)]))),256)):g("",!0),s("button",{class:"btn btn-secondary btn-sm",onClick:t[0]||(t[0]=(...o)=>a.addField&&a.addField(...o))}," Add new field ")]),s("div",ns,[s("button",{type:"button",class:"btn btn-secondary",onClick:t[1]||(t[1]=(...o)=>a.editData&&a.editData(...o)),disabled:i.btnInactive},"Edit data",8,as),is])])])])],64)}var rs=k(Rt,[["render",os],["__scopeId","data-v-553b0b82"]]);const ds={name:"EditPfp",emits:["fetchData"],props:["domainData","tld","domainName"],data(){return{inputPfpAddress:null,inputPfpId:null,tldContract:null,btnInactive:!1}},computed:T(u(u({},h("punk",["getTldAddressesKey","getTldAddresses"])),h("network",["getBlockExplorerBaseUrl"])),{customPfp(){return this.domainData.pfpAddress!=U?this.shortenAddress(this.domainData.pfpAddress)+" (token ID: "+this.domainData.pfpTokenId+")":"Custom PFP not set yet."},isOwner(){return String(this.address).toLowerCase()===String(this.domainData.holder).toLowerCase()},pfpAddress(){return this.domainData.pfpAddress!=U?this.domainData.pfpAddress:null}}),methods:{async editPfp(){this.btnInactive=!0;const e=this.inputPfpAddress,t=this.inputPfpId,n=new w(["function ownerOf(uint256 tokenId) public view returns (address)"]),r=new D(e,n,this.signer);let i;try{i=await r.ownerOf(t)}catch(a){this.btnInactive=!1,console.log(a),this.toast(a.message,{type:m.ERROR}),this.inputPfpAddress=this.domainData.pfpAddress,this.inputPfpId=this.domainData.pfpTokenId}if(i&&String(this.address).toLowerCase()!=String(i).toLowerCase())this.toast("It looks like your current address is not this NFT owner.",{type:m.ERROR}),this.btnInactive=!1,this.inputPfpAddress=this.domainData.pfpAddress,this.inputPfpId=this.domainData.pfpTokenId;else if(i&&String(this.address).toLowerCase()===String(i).toLowerCase()&&(console.log("is owner"),this.tldContract||this.setContract(),console.log(this.tldContract),this.tldContract))try{const a=await this.tldContract.editPfp(this.domainName,e,t);document.getElementById("closePfpModal").click();const o=this.toast({component:X,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:m.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),c=await a.wait();c.status===1?(this.btnInactive=!1,this.toast.dismiss(o),this.toast("You have successfully updated your PFP data!",{type:m.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),this.$emit("fetchData")):(this.btnInactive=!1,this.toast.dismiss(o),this.toast("Transaction has failed.",{type:m.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),console.log(c),this.inputPfpAddress=this.domainData.pfpAddress,this.inputPfpId=this.domainData.pfpTokenId)}catch(a){this.btnInactive=!1,console.log(a),this.toast(a.message,{type:m.ERROR}),this.inputPfpAddress=this.domainData.pfpAddress,this.inputPfpId=this.domainData.pfpTokenId}},setContract(){let e=this.getTldAddresses;if(!e){const t=localStorage.getItem(this.getTldAddressesKey);t&&(e=JSON.parse(t))}if(e&&JSON.stringify(e)!="{}"){const t=e["."+this.tld],n=new w(I);this.tldContract=new D(t,n,this.signer)}}},setup(){const{address:e,signer:t}=A(),n=B();return{address:e,shortenAddress:K,signer:t,toast:n}},watch:{domainData(){this.domainData.pfpAddress!=U&&(this.inputPfpAddress=this.domainData.pfpAddress,this.inputPfpId=this.domainData.pfpTokenId)}}},W=e=>(S("data-v-0ede76c7"),e=e(),C(),e),ls={key:0,class:"mb-3 row domain-data mt-4"},cs=W(()=>s("div",{class:"col-sm-3 punk-title"}," Custom PFP ",-1)),us={class:"col-sm-9 punk-text"},ps={key:0,class:"btn btn-primary btn-sm mx-3","data-bs-toggle":"modal","data-bs-target":"#editPfpModal"},ms={class:"modal fade text-start",id:"editPfpModal",tabindex:"-1","aria-labelledby":"editPfpModalLabel","aria-hidden":"true"},ys={class:"modal-dialog modal-dialog-centered"},hs={class:"modal-content"},fs=W(()=>s("div",{class:"modal-header"},[s("h5",{class:"modal-title",id:"editPfpModalLabel"},"Edit PFP"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),_s={class:"modal-body"},gs={key:0,class:"mb-3"},bs=W(()=>s("label",{class:"form-label"},"Enter NFT address:",-1)),vs={key:1,class:"mb-3"},ws=W(()=>s("label",{class:"form-label"},"Enter NFT token ID:",-1)),Ds={class:"modal-footer"},ks=["disabled"],Ns=W(()=>s("button",{id:"closePfpModal",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1));function Ts(e,t,n,r,i,a){return l(),d(x,null,[n.domainData?(l(),d("div",ls,[cs,s("div",us,[s("span",null,p(a.customPfp),1),a.isOwner?(l(),d("button",ps,"Edit")):g("",!0)])])):g("",!0),s("div",ms,[s("div",ys,[s("div",hs,[fs,s("div",_s,[s("p",null," Enter the address and token ID of an NFT that you own and want to designate as the main PFP of the "+p(n.domainName)+"."+p(n.tld)+" domain. ",1),n.domainData?(l(),d("div",gs,[bs,$(s("input",{type:"text",class:"form-control",placeholder:"0x...","onUpdate:modelValue":t[0]||(t[0]=o=>i.inputPfpAddress=o)},null,512),[[M,i.inputPfpAddress]])])):g("",!0),n.domainData?(l(),d("div",vs,[ws,$(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=o=>i.inputPfpId=o)},null,512),[[M,i.inputPfpId]])])):g("",!0)]),s("div",Ds,[s("button",{type:"button",class:"btn btn-secondary",onClick:t[2]||(t[2]=(...o)=>a.editPfp&&a.editPfp(...o)),disabled:i.btnInactive},"Edit PFP data",8,ks),Ns])])])])],64)}var xs=k(ds,[["render",Ts],["__scopeId","data-v-0ede76c7"]]);const As={name:"EditUrl",emits:["fetchData"],props:["domainData","tld","domainName"],data(){return{inputUrl:null,tldContract:null,btnInactive:!1}},computed:T(u(u({},h("punk",["getTldAddressesKey","getTldAddresses"])),h("network",["getBlockExplorerBaseUrl"])),{isOwner(){return String(this.address).toLowerCase()===String(this.domainData.holder).toLowerCase()},urlData(){return this.domainData.url?this.domainData.url:"Redirect URL not set yet."}}),methods:{async editUrl(){if(this.btnInactive=!0,this.tldContract||this.setContract(),this.tldContract)try{const e=await this.tldContract.editUrl(this.domainName,this.inputUrl);document.getElementById("closeUrlModal").click();const t=this.toast({component:X,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:m.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+e.hash,"_blank").focus()}),n=await e.wait();n.status===1?(this.toast.dismiss(t),this.toast("You have successfully updated the URL!",{type:m.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+e.hash,"_blank").focus()}),this.$emit("fetchData"),this.btnInactive=!1):(this.toast.dismiss(t),this.toast("Transaction has failed.",{type:m.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+e.hash,"_blank").focus()}),console.log(n),this.btnInactive=!1,this.inputUrl=this.domainData.url)}catch(e){this.btnInactive=!1,console.log(e),this.toast(e.message,{type:m.ERROR}),this.inputUrl=this.domainData.url}},setContract(){let e=this.getTldAddresses;if(!e){const t=localStorage.getItem(this.getTldAddressesKey);t&&(e=JSON.parse(t))}if(e&&JSON.stringify(e)!="{}"){const t=e["."+this.tld],n=new w(I);this.tldContract=new D(t,n,this.signer)}}},setup(){const{address:e,signer:t}=A(),n=B();return{address:e,signer:t,toast:n}},watch:{domainData(){this.inputUrl=this.domainData.url}}},Q=e=>(S("data-v-5f185c7a"),e=e(),C(),e),Ss={key:0,class:"mb-3 row domain-data mt-4"},Cs=Q(()=>s("div",{class:"col-sm-3 punk-title"}," URL ",-1)),Is={class:"col-sm-9 punk-text"},Us={key:0,class:"btn btn-primary btn-sm mx-3","data-bs-toggle":"modal","data-bs-target":"#editUrlModal"},Es={class:"modal fade",id:"editUrlModal",tabindex:"-1","aria-labelledby":"editUrlModalLabel","aria-hidden":"true"},$s={class:"modal-dialog modal-dialog-centered"},Ms={class:"modal-content"},Ps=Q(()=>s("div",{class:"modal-header"},[s("h5",{class:"modal-title",id:"editUrlModalLabel"},"Edit URL"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Os={class:"modal-body"},Bs={key:0,class:"mb-3"},Rs={class:"modal-footer"},Fs=["disabled"],Ls=Q(()=>s("button",{id:"closeUrlModal",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1));function Ks(e,t,n,r,i,a){return l(),d(x,null,[n.domainData?(l(),d("div",Ss,[Cs,s("div",Is,[s("span",null,p(a.urlData),1),a.isOwner?(l(),d("button",Us,"Edit")):g("",!0)])])):g("",!0),s("div",Es,[s("div",$s,[s("div",Ms,[Ps,s("div",Os,[s("p",null," Anyone who's using the Punk browser extension will get redirected to this URL if they enter "+p(n.domainName)+"."+p(n.tld)+" in the browser URL bar. ",1),n.domainData?(l(),d("div",Bs,[$(s("input",{type:"text",class:"form-control",placeholder:"Enter URL","onUpdate:modelValue":t[0]||(t[0]=o=>i.inputUrl=o)},null,512),[[M,i.inputUrl]])])):g("",!0)]),s("div",Rs,[s("button",{type:"button",class:"btn btn-secondary",onClick:t[1]||(t[1]=(...o)=>a.editUrl&&a.editUrl(...o)),disabled:i.btnInactive},"Edit URL",8,Fs),Ls])])])])],64)}var Vs=k(As,[["render",Ks],["__scopeId","data-v-5f185c7a"]]);const Js={name:"DomainDetails",props:["domainChain","tld","domainName"],components:{EditOtherData:rs,EditPfp:xs,EditUrl:Vs,Sidebar:Z},data(){return{tldContract:null,domainData:null,pfpImage:"https://upload.wikimedia.org/wikipedia/commons/b/bc/Unknown_person.jpg"}},created(){this.tldContract||this.setContract(),this.getTldAddresses&&JSON.stringify(this.getTldAddresses)!="{}"&&this.fetchData()},computed:T(u(u({},h("punk",["getTldAddressesKey","getTldAddresses"])),h("network",["getBlockExplorerBaseUrl","getChainId","getSupportedNetworks","isNetworkSupported"])),{holderData(){return this.domainData.holder!==U?this.domainData.holder:"This domain name is not owned by anyone yet."},isCorrectChainForDomain(){return Number(this.domainChain)===Number(this.getChainId)}}),methods:{async fetchData(){if(this.tldContract||this.setContract(),this.tldContract&&(this.domainData=await this.tldContract.domains(this.domainName),this.domainData&&this.domainData.holder!==U)){let e;if(this.domainData.pfpAddress!==U){const t=new w(["function tokenURI(uint256 tokenId) public view returns (string memory)"]);e=await new D(this.domainData.pfpAddress,t,this.signer).tokenURI(this.domainData.tokenId)}else e=await this.tldContract.tokenURI(this.domainData.tokenId);if(e){const t=atob(e.substring(29)),n=JSON.parse(t);n&&n.image&&(this.pfpImage=n.image)}}},setContract(){let e=this.getTldAddresses;if(!e){const t=localStorage.getItem(this.getTldAddressesKey);t&&(e=JSON.parse(t))}if(e&&JSON.stringify(e)!="{}"){const t=e["."+this.tld],n=new w(I);this.tldContract=new D(t,n,this.signer)}}},setup(){const{chainId:e,isActivated:t,signer:n}=A(),r=B();return{chainId:e,isActivated:t,signer:n,toast:r}},watch:{getTldAddresses(e,t){e&&JSON.stringify(e)!="{}"&&this.fetchData()},chainId(){this.fetchData()}}},z=e=>(S("data-v-b348acbc"),e=e(),C(),e),qs={class:"row"},Ws={class:"col-md-3",id:"sidebar-container"},Hs={class:"col-md-9"},js={key:0,class:"row"},Ys=z(()=>s("div",{class:"col-md-12"},[s("div",{class:"alert alert-warning",role:"alert"}," Connect wallet to see more data. ")],-1)),Zs=[Ys],Xs={key:1,class:"row"},Qs=z(()=>s("div",{class:"col-md-12"},[s("div",{class:"alert alert-warning",role:"alert"}," If data does not show in a reasonable amount of time, reload the page. ")],-1)),zs=[Qs],Gs={key:2,class:"row"},en={class:"col-md-12"},tn={class:"alert alert-warning",role:"alert"},sn={class:"row"},nn={class:"col-md-12"},an={class:"container text-center"},on=["src"],rn={key:0,class:"mb-3 row domain-data mt-4"},dn=z(()=>s("div",{class:"col-sm-3 punk-title"}," Holder address ",-1)),ln={class:"col-sm-9 punk-text text-break"};function cn(e,t,n,r,i,a){const o=b("Sidebar"),c=b("EditUrl"),f=b("EditPfp"),y=b("EditOtherData");return l(),d("div",qs,[s("div",Ws,[_(o)]),s("div",Hs,[r.isActivated?g("",!0):(l(),d("div",js,Zs)),r.isActivated&&a.isCorrectChainForDomain&&!i.domainData?(l(),d("div",Xs,zs)):g("",!0),a.isCorrectChainForDomain?g("",!0):(l(),d("div",Gs,[s("div",en,[s("div",tn," Please switch your network to "+p(e.getSupportedNetworks[n.domainChain])+". ",1)])])),s("div",sn,[s("div",nn,[s("div",an,[s("h3",null,p(n.domainName)+"."+p(n.tld),1),s("img",{class:"img-thumbnail domain-image",src:i.pfpImage},null,8,on),i.domainData?(l(),d("div",rn,[dn,s("div",ln,p(a.holderData),1)])):g("",!0),_(c,{domainData:i.domainData,tld:n.tld,domainName:n.domainName,onFetchData:a.fetchData},null,8,["domainData","tld","domainName","onFetchData"]),_(f,{domainData:i.domainData,tld:n.tld,domainName:n.domainName,onFetchData:a.fetchData},null,8,["domainData","tld","domainName","onFetchData"]),_(y,{domainData:i.domainData,tld:n.tld,domainName:n.domainName,onFetchData:a.fetchData},null,8,["domainData","tld","domainName","onFetchData"])])])])])])}var un=k(Js,[["render",cn],["__scopeId","data-v-b348acbc"]]);const pn={name:"Home",data(){return{chosenDomainName:null,enabledBuyingTlds:[],selectedTld:null,selectedPrice:null,waiting:!1}},created(){this.getDomainPrices&&this.checkEnabledBuying()},computed:T(u(u({},h("network",["getBlockExplorerBaseUrl","getNetworkName","getNetworkCurrency","getSupportedNetworks","getSupportedNetworkNames"])),h("punk",["getTlds","getTldAddresses","getDomainPrices"])),{buyNotValid(){return this.chosenDomainName===""||this.chosenDomainName===null||this.chosenDomainName.includes(".")||this.chosenDomainName.includes(" ")||this.chosenDomainName.includes("%")||this.chosenDomainName.includes("&")||this.chosenDomainName.includes("?")||this.chosenDomainName.includes("#")?!0:!!this.chosenDomainName.includes("/")}}),methods:T(u(u({},Y("punk",["fetchTlds"])),L("user",["addDomainManually"])),{async buyDomain(){this.waiting=!0;const e=this.chosenDomainName+this.selectedTld,t=new w(I),n=new D(this.getTldAddresses[this.selectedTld],t,this.signer);if(await n.getDomainHolder(this.chosenDomainName)!==U){this.toast("Sorry, but this domain name is already taken...",{type:m.ERROR}),this.waiting=!1;return}try{const i=await n["mint(string,address)"](this.chosenDomainName,this.address,{value:String(this.selectedPrice)}),a=this.toast({component:X,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:m.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),o=await i.wait();o.status===1?(this.toast.dismiss(a),this.toast("You have successfully bought the domain!",{type:m.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),this.fetchTlds(),this.addDomainManually(e),this.waiting=!1):(this.toast.dismiss(a),this.toast("Transaction has failed.",{type:m.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),console.log(o),this.waiting=!1)}catch(i){console.log(i),this.waiting=!1,this.toast(i.message,{type:m.ERROR})}this.waiting=!1},changeNetwork(e){let t,n;e=="Ropsten"?(t="wallet_switchEthereumChain",n=[{chainId:"0x3"}]):e=="Mumbai"?(t="wallet_addEthereumChain",n=[{blockExplorerUrls:["https://mumbai.polygonscan.com"],chainId:"0x13881",chainName:"Mumbai Testnet",nativeCurrency:{decimals:18,name:"Matic",symbol:"MATIC"},rpcUrls:["https://matic-mumbai.chainstacklabs.com"]}]):e=="Arbitrum Testnet"?(t="wallet_addEthereumChain",n=[{blockExplorerUrls:["https://rinkeby-explorer.arbitrum.io/"],chainId:"0x66EEB",chainName:"Arbitrum Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:["https://rinkeby.arbitrum.io/rpc"]}]):e=="Optimism Testnet"&&(t="wallet_addEthereumChain",n=[{blockExplorerUrls:["https://kovan-optimistic.etherscan.io/"],chainId:"0x45",chainName:"Optimism Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:["https://kovan.optimism.io"]}]),window.ethereum.request({method:t,params:n})},changeTld(e){this.selectedTld=e,this.selectedPrice=this.getDomainPrices[e]},async checkEnabledBuying(){if(this.enabledBuyingTlds=[],this.getTlds)for(let e of this.getTlds){const t=new w(I);await new D(this.getTldAddresses[e],t,this.signer).buyingEnabled()&&this.enabledBuyingTlds.push(e)}this.selectedTld=this.enabledBuyingTlds[0],this.selectedPrice=this.getDomainPrices[this.selectedTld]},parseValue(e){if(e)return ge(e)}}),setup(){const{address:e,signer:t}=A(),n=B();return{address:e,displayEther:ae,signer:t,toast:n}},watch:{getTlds(){this.getDomainPrices&&this.checkEnabledBuying()},getDomainPrices(e,t){e&&this.checkEnabledBuying()}}},mn=e=>(S("data-v-480ded5e"),e=e(),C(),e),yn={class:"container text-center"},hn=mn(()=>s("h1",{class:"mt-5"},"Permissionless Web3 Domains",-1)),fn={class:"dropdown mt-5"},_n=v(" Choose network: "),gn={class:"mx-3 btn btn-primary dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},bn={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},vn=["onClick"],wn={class:"d-flex justify-content-center domain-input-container"},Dn={class:"input-group mb-3 domain-input input-group-lg"},kn={class:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Nn={class:"dropdown-menu dropdown-menu-end"},Tn=["onClick"],xn={class:"mt-3"},An=["disabled"],Sn={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Cn=v(" Buy domain ");function In(e,t,n,r,i,a){return l(),d("div",yn,[hn,s("div",fn,[_n,s("button",gn,p(e.getNetworkName),1),s("ul",bn,[s("li",null,[(l(!0),d(x,null,O(e.getSupportedNetworkNames,o=>(l(),d("span",{class:"dropdown-item",onClick:c=>a.changeNetwork(o)},p(o),9,vn))),256))])])]),s("div",wn,[s("div",Dn,[$(s("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>i.chosenDomainName=o),placeholder:"enter domain name",type:"text",class:"form-control text-end","aria-label":"Text input with dropdown button"},null,512),[[M,i.chosenDomainName]]),s("button",kn,p(i.selectedTld),1),s("ul",Nn,[s("li",null,[(l(!0),d(x,null,O(i.enabledBuyingTlds,o=>(l(),d("span",{class:"dropdown-item",onClick:c=>a.changeTld(o)},p(o),9,Tn))),256))])])])]),s("p",xn," Domain price: "+p(this.parseValue(this.selectedPrice))+" "+p(e.getNetworkCurrency),1),s("button",{class:"btn btn-primary btn-lg mt-1 buy-button",onClick:t[1]||(t[1]=(...o)=>a.buyDomain&&a.buyDomain(...o)),disabled:i.waiting||a.buyNotValid},[i.waiting?(l(),d("span",Sn)):g("",!0),Cn],8,An)])}var Un=k(pn,[["render",In],["__scopeId","data-v-480ded5e"]]);const En={name:"MyDomain",props:["domain"],computed:u(u({},h("network",["getChainId"])),h("user",["getUserSelectedName"])),methods:T(u(u({},Y("user",["fetchSelectedNameData"])),L("user",["setSelectedName"])),{setAsMainName(){this.setSelectedName(this.domain),this.fetchSelectedNameData()}})},$n=e=>(S("data-v-b0834f08"),e=e(),C(),e),Mn={key:0},Pn=$n(()=>s("i",{class:"bi bi-check2-circle"},null,-1)),On=v(" Default "),Bn=[Pn,On];function Rn(e,t,n,r,i,a){return l(),d(x,null,[s("td",null,[s("span",null,p(n.domain),1)]),s("td",null,[s("span",{class:"text-click",onClick:t[0]||(t[0]=o=>this.$router.push({name:"DomainDetails",params:{domainChain:e.getChainId,tld:n.domain.split(".")[1],domainName:n.domain.split(".")[0]}}))}," Edit domain data ")]),s("td",null,[e.getUserSelectedName===n.domain?(l(),d("span",Mn,Bn)):(l(),d("span",{key:1,class:"text-click",onClick:t[1]||(t[1]=(...o)=>a.setAsMainName&&a.setAsMainName(...o))}," Set as main name "))])],64)}var Fn=k(En,[["render",Rn],["__scopeId","data-v-b0834f08"]]);const Ln={name:"Profile",data(){return{existingDomain:null}},components:{MyDomain:Fn,Sidebar:Z},computed:T(u(u(u({},h("user",["getUserAddress","getUserBalance","getUserAllDomainNames","getUserSelectedName","getUserSelectedNameData"])),h("network",["getNetworkCurrency"])),h("punk",["getFactoryContract"])),{customData(){if(this.getUserSelectedNameData)try{return JSON.parse(this.getUserSelectedNameData.data)}catch{return null}return null},domainNotValid(){if(this.existingDomain==="")return!0;if(this.existingDomain===null)return!0;if(this.existingDomain.split(".").length!=2)return!0;if(this.existingDomain.includes(" "))return!0;if(this.existingDomain.includes("%"))return!0;if(this.existingDomain.includes("&"))return!0;if(this.existingDomain.includes("?"))return!0;if(this.existingDomain.includes("#"))return!0}}),methods:T(u({},L("user",["addDomainManually"])),{async addExistingDomain(){const e=this.existingDomain.split("."),t=await this.getFactoryContract.tldNamesAddresses("."+e[1]);if(t!==U){const n=new w(I),i=await new D(t,n,this.signer).getDomainHolder(e[0]);String(i)===String(this.address)?(this.addDomainManually(this.existingDomain),this.toast("Domain successfully added.",{type:m.SUCCESS})):this.toast("This domain is not owned by your currently connected address.",{type:m.ERROR})}else this.toast("This TLD does not exist.",{type:m.ERROR})}}),setup(){const{address:e,signer:t}=A(),n=B();return{address:e,signer:t,toast:n}}},E=e=>(S("data-v-215d7631"),e=e(),C(),e),Kn={class:"row"},Vn={class:"col-md-3",id:"sidebar-container"},Jn={class:"col-md-9"},qn={class:"row"},Wn={class:"col-md-6 mb-3"},Hn={class:"container text-center"},jn=E(()=>s("h3",null,"Address",-1)),Yn={class:"text-break"},Zn={class:"col-md-6 mb-3"},Xn={class:"container text-center"},Qn=E(()=>s("h3",null,"Balance",-1)),zn={class:"text-break"},Gn={key:0,class:"row"},ea={key:0,class:"col-md-6 mb-3"},ta={class:"container text-center"},sa=E(()=>s("h3",null,"Redirect URL",-1)),na={class:"text-break"},aa={class:"col-md-6 mb-3"},ia={class:"container text-center"},oa={class:"text-break"},ra={class:"row"},da={class:"col-md-12"},la={class:"container"},ca=E(()=>s("h3",null,"Domains",-1)),ua={class:"table table-hover mt-4 mb-4"},pa={key:0},ma=E(()=>s("small",null,[s("em",null,[v(" Don't see your domain here? "),s("span",{class:"span-link","data-bs-toggle":"modal","data-bs-target":"#addDomainModal"}," Add it manually"),v(". ")])],-1)),ya=[ma],ha={key:1},fa=v(" No domain? No worries, "),_a=v("buy yourself one here!"),ga={class:"modal fade",id:"addDomainModal",tabindex:"-1","aria-labelledby":"addDomainModalLabel","aria-hidden":"true","modal-dialog-centered":""},ba={class:"modal-dialog"},va={class:"modal-content"},wa=E(()=>s("div",{class:"modal-header"},[s("h5",{class:"modal-title",id:"addDomainModalLabel"},"Add your existing domain"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Da={class:"modal-body"},ka={class:"mb-3"},Na=E(()=>s("label",{for:"recipient-name",class:"col-form-label"},"Enter your existing domain:",-1)),Ta=E(()=>s("small",null,[s("em",null,"No transaction will be made, this is a free query.")],-1)),xa={class:"modal-footer"},Aa=["disabled"],Sa=E(()=>s("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1));function Ca(e,t,n,r,i,a){const o=b("Sidebar"),c=b("MyDomain"),f=b("router-link");return l(),d(x,null,[s("div",Kn,[s("div",Vn,[_(o)]),s("div",Jn,[s("div",qn,[s("div",Wn,[s("div",Hn,[jn,s("p",Yn,p(e.getUserAddress),1)])]),s("div",Zn,[s("div",Xn,[Qn,s("p",zn,p(e.getUserBalance)+" "+p(e.getNetworkCurrency),1)])])]),e.getUserSelectedNameData&&(e.getUserSelectedNameData.data||e.getUserSelectedNameData.url)?(l(),d("div",Gn,[e.getUserSelectedNameData.url?(l(),d("div",ea,[s("div",ta,[sa,s("p",na,p(e.getUserSelectedNameData.url),1)])])):g("",!0),(l(!0),d(x,null,O(a.customData,(y,F)=>(l(),d("div",aa,[s("div",ia,[s("h3",null,p(F.charAt(0).toUpperCase()+F.slice(1)),1),s("p",oa,p(y),1)])]))),256))])):g("",!0),s("div",ra,[s("div",da,[s("div",la,[ca,s("table",ua,[s("tbody",null,[(l(!0),d(x,null,O(e.getUserAllDomainNames,y=>(l(),d("tr",null,[_(c,{domain:y},null,8,["domain"])]))),256))])]),e.getUserSelectedNameData?(l(),d("p",pa,ya)):(l(),d("p",ha,[fa,_(f,{to:"/"},{default:P(()=>[_a]),_:1})]))])])])])]),s("div",ga,[s("div",ba,[s("div",va,[wa,s("div",Da,[s("div",ka,[Na,$(s("input",{type:"text",class:"form-control",id:"recipient-name","onUpdate:modelValue":t[0]||(t[0]=y=>i.existingDomain=y)},null,512),[[M,i.existingDomain]]),Ta])]),s("div",xa,[s("button",{type:"button",onClick:t[1]||(t[1]=(...y)=>a.addExistingDomain&&a.addExistingDomain(...y)),class:"btn btn-secondary",disabled:a.domainNotValid},"Add domain",8,Aa),Sa])])])])],64)}var Ia=k(Ln,[["render",Ca],["__scopeId","data-v-215d7631"]]);const Ua={name:"SearchDomains",components:{Sidebar:Z},data(){return{query:null,waiting:!1}},computed:T(u(u({},h("network",["getChainId"])),h("punk",["getTldAddressesKey","getTldAddresses"])),{notValid(){if(this.query==="")return!0;if(this.query===null)return!0;if(this.query.includes(".")){if(this.query.includes(" "))return!0;if(this.query.includes("%"))return!0;if(this.query.includes("&"))return!0;if(this.query.includes("?"))return!0;if(this.query.includes("#"))return!0;if(this.query.includes("/"))return!0}else return!0;return!1}}),methods:{async findDomain(){this.waiting=!0;try{const e=this.query.split(".")[0],t=this.query.split(".")[1];let n=this.getTldAddresses;if(!n){const r=localStorage.getItem(this.getTldAddressesKey);r&&(n=JSON.parse(r))}if(n&&JSON.stringify(n)!="{}"){const r=n["."+t];if(!r){this.toast("This TLD does not exist.",{type:m.ERROR}),this.waiting=!1;return}const i=new w(I);if(await new D(r,i,this.signer).getDomainHolder(e)===U){this.toast("This domain name has not been registered yet.",{type:m.INFO}),this.waiting=!1;return}else this.$router.push({name:"DomainDetails",params:{domainChain:this.getChainId,tld:t,domainName:e}})}}catch{this.toast("You have entered an incorrect domain.",{type:m.ERROR}),this.waiting=!1;return}}},setup(){const{signer:e}=A(),t=B();return{signer:e,toast:t}}},Ea={class:"row"},$a={class:"col-md-3",id:"sidebar-container"},Ma={class:"col-md-9"},Pa={class:"row"},Oa={class:"col-md-12 mb-3"},Ba={class:"container text-center"},Ra=s("h3",null,"Find an existing domain",-1),Fa={class:"row mt-5"},La={class:"col-md-6 offset-md-3"},Ka=["disabled"],Va={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Ja=v(" Search ");function qa(e,t,n,r,i,a){const o=b("Sidebar");return l(),d("div",Ea,[s("div",$a,[_(o)]),s("div",Ma,[s("div",Pa,[s("div",Oa,[s("div",Ba,[Ra,s("div",Fa,[s("div",La,[$(s("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>i.query=c),type:"email",class:"form-control text-center",placeholder:"Enter a domain name"},null,512),[[M,i.query]])])]),s("button",{class:"btn btn-primary mt-3 mb-5",onClick:t[1]||(t[1]=(...c)=>a.findDomain&&a.findDomain(...c)),disabled:i.waiting||a.notValid},[i.waiting?(l(),d("span",Va)):g("",!0),Ja],8,Ka)])])])])])}var Wa=k(Ua,[["render",qa]]);const Ha=[{path:"/",name:"Home",component:Un},{path:"/about",name:"About",component:dt},{path:"/browser",name:"BrowserExtension",component:$t},{path:"/domain/:domainChain/:tld/:domainName",name:"DomainDetails",component:un,props:!0},{path:"/profile",name:"Profile",component:Ia},{path:"/search-domain",name:"SearchDomains",component:Wa},{path:"/:pathMatch(.*)*",name:"404",component:()=>nt(()=>import("./Error404.cfdc7d79.js"),["assets/Error404.cfdc7d79.js","assets/vendor.5c15b527.js"])}],ja=be({history:ve(),routes:Ha}),{chainId:N}=A();var Ya={namespaced:!0,state:()=>({networkCurrency:"ETH",networkName:"Unsupported Network",supportedNetworks:{3:"Ropsten",69:"Optimism Testnet",80001:"Mumbai",421611:"Arbitrum Testnet"}}),getters:{getBlockExplorerBaseUrl(){if(N.value===3)return"https://ropsten.etherscan.io";if(N.value===69)return"https://kovan-optimistic.etherscan.io/";if(N.value===137)return"https://polygonscan.com";if(N.value===42161)return"https://arbiscan.io/";if(N.value===80001)return"https://mumbai.polygonscan.com";if(N.value===421611)return"https://rinkeby-explorer.arbitrum.io"},getChainId(){return N.value},getNetworkCurrency(e){return e.networkCurrency},getNetworkName(e){const t=Object.keys(e.supportedNetworks);return t&&t.includes(String(N.value))?e.networkName:"Unsupported Network"},getSupportedNetworks(e){return e.supportedNetworks},getSupportedNetworkIds(e){return Object.keys(e.supportedNetworks)},getSupportedNetworkNames(e){return Object.values(e.supportedNetworks)},isNetworkSupported(e){const t=Object.keys(e.supportedNetworks);return!!(t&&t.includes(String(N.value)))}},mutations:{setNetworkData(e){N.value===137?(e.networkName="Polygon",e.networkCurrency="MATIC"):N.value===69?(e.networkName="Optimism Testnet",e.networkCurrency="ETH"):N.value===42161?(e.networkName="Arbitrum",e.networkCurrency="ETH"):N.value===421611?(e.networkName="Arbitrum Testnet",e.networkCurrency="ETH"):N.value===80001?(e.networkName="Mumbai",e.networkCurrency="MATIC"):N.value===3?(e.networkName="Ropsten",e.networkCurrency="ETH"):(e.networkName="Unsupported Network",e.networkCurrency="ETH")}},actions:{}};const{address:R,balance:le,chainId:q,signer:G}=A();var Za={namespaced:!0,state:()=>({selectedName:null,selectedNameData:null,selectedNameImageSvg:null,selectedNameKey:null,userAddress:null,userAllDomainNames:[],userDomainNamesKey:null,userShortAddress:null,userBalanceWei:0,userBalance:0}),getters:{getUserAddress(e){return e.userAddress},getUserBalance(e){return e.userBalance},getUserBalanceWei(e){return e.userBalanceWei},getUserAllDomainNames(e){return e.userAllDomainNames},getUserSelectedName(e){return e.selectedName},getUserSelectedNameData(e){return e.selectedNameData},getUserSelectedNameImageSvg(e){return e.selectedNameImageSvg},getUserShortAddress(e){return e.userShortAddress}},mutations:{addDomainManually(e,t){let n=[];if(q.value){this.userDomainNamesKey="userDomainNames"+String(q.value)+String(K(R.value)),this.selectedNameKey="selectedName"+String(q.value)+String(K(R.value)),localStorage.getItem(this.userDomainNamesKey)&&(n=JSON.parse(localStorage.getItem(this.userDomainNamesKey))),n.includes(t)||n.push(t);for(let r of n)e.userAllDomainNames.includes(r)||e.userAllDomainNames.push(r);localStorage.setItem(this.userDomainNamesKey,JSON.stringify(n))}},setUserData(e){e.userAddress=R.value,e.userShortAddress=K(R.value),e.userBalanceWei=le.value,e.userBalance=ae(le.value)},setDefaultName(e,t){e.userAllDomainNames.includes(t)||e.userAllDomainNames.push(t)},setSelectedName(e,t){e.selectedName=t,localStorage.setItem(this.selectedNameKey,e.selectedName)},setSelectedNameData(e,t){e.selectedNameData=t},setSelectedNameImageSvg(e,t){e.selectedNameImageSvg=t},setUserAllDomainNames(e,t){e.userAllDomainNames=t}},actions:{async fetchUserDomainNames({dispatch:e,commit:t,state:n,rootState:r},i){let a=[];q.value&&(this.userDomainNamesKey="userDomainNames"+String(q.value)+String(K(R.value)),this.selectedNameKey="selectedName"+String(q.value)+String(K(R.value))),i&&(localStorage.getItem(this.selectedNameKey)&&localStorage.getItem(this.selectedNameKey)!==String(null)?t("setSelectedName",localStorage.getItem(this.selectedNameKey)):(t("setSelectedName",null),t("setSelectedNameData",null),t("setSelectedNameImageSvg",null)),t("setUserAllDomainNames",[])),localStorage.getItem(this.userDomainNamesKey)&&(a=JSON.parse(localStorage.getItem(this.userDomainNamesKey)));for(let o of a)t("setDefaultName",o);for(let o of r.punk.tlds){const c=new w(I),y=await new D(r.punk.tldAddresses[o],c,G.value).defaultNames(R.value);y&&(t("setDefaultName",y+o),a.includes(y+o)||a.push(y+o),n.selectedName||t("setSelectedName",y+o))}localStorage.getItem(this.selectedNameKey)&&localStorage.getItem(this.selectedNameKey)!==String(null)?t("setSelectedName",localStorage.getItem(this.selectedNameKey)):localStorage.setItem(this.selectedNameKey,n.selectedName),localStorage.setItem(this.userDomainNamesKey,JSON.stringify(a)),e("fetchSelectedNameData")},async fetchSelectedNameData({commit:e,state:t,rootState:n}){if(t.selectedName){const r=t.selectedName.split("."),i=r[0],a="."+r[1];if(n.punk.tldAddresses[a]){const o=new w(I),c=new D(n.punk.tldAddresses[a],o,G.value),f=await c.domains(i);e("setSelectedNameData",f);let y;if(f.pfpAddress!=U){const F=new w(["function tokenURI(uint256 tokenId) public view returns (string memory)"]);y=await new D(f.pfpAddress,F,G.value).tokenURI(f.tokenId)}else y=await c.tokenURI(f.tokenId);if(y){const F=atob(y.substring(29)),j=JSON.parse(F);j&&j.image?e("setSelectedNameImageSvg",j.image):e("setSelectedNameImageSvg",null)}else e("setSelectedNameImageSvg",null)}}}}};const Xa={"3":"0xbb056744bB2Ab473058ED7F3e1764FCf4Bb1313D","69":"0xF51F7a532a2AaDFE8E2320bf5BA8275503bB3789","80001":"0x3047F44d0A8383EDd59A583092d7E6DB7ade85e0","421611":"0xF51F7a532a2AaDFE8E2320bf5BA8275503bB3789"};var Qa={PunkTLDFactory:Xa},za=[{inputs:[{internalType:"uint256",name:"_price",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"string",name:"tldName",type:"string"},{indexed:!1,internalType:"address",name:"tldAddress",type:"address"}],name:"TldCreated",type:"event"},{inputs:[{internalType:"string",name:"_name",type:"string"}],name:"addForbiddenTld",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"buyingEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_maxLength",type:"uint256"}],name:"changeNameMaxLength",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_price",type:"uint256"}],name:"changePrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_newProjectName",type:"string"}],name:"changeProjectName",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_royalty",type:"uint256"}],name:"changeRoyalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"address",name:"_tldOwner",type:"address"},{internalType:"uint256",name:"_domainPrice",type:"uint256"},{internalType:"bool",name:"_buyingEnabled",type:"bool"}],name:"createTld",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"forbidden",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTldsArray",outputs:[{internalType:"string[]",name:"",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"nameMaxLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"address",name:"_tldOwner",type:"address"},{internalType:"uint256",name:"_domainPrice",type:"uint256"},{internalType:"bool",name:"_buyingEnabled",type:"bool"}],name:"ownerCreateTld",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"projectName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_name",type:"string"}],name:"removeForbiddenTld",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"royalty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"tldNamesAddresses",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tlds",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"toggleBuyingTlds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];const{chainId:ee,signer:ce}=A();var Ga={namespaced:!0,state:()=>({domainPrices:null,factoryAddress:null,factoryContract:null,tlds:[],tldsKey:null,tldAddresses:{},tldAddressesKey:null}),getters:{getDomainPrices(e){return e.domainPrices},getFactoryContract(e){return e.factoryContract},getTlds(e){return e.tlds},getTldAddresses(e){return e.tldAddresses},getTldAddressesKey(e){return e.tldAddressesKey}},mutations:{setFactoryContract(e){if(e.factoryAddress=Qa.PunkTLDFactory[String(ee.value)],e.factoryAddress){e.tldsKey="tlds"+ee.value,e.tldAddressesKey="tldAddresses"+ee.value;const t=new w(za);e.factoryContract=new D(e.factoryAddress,t,ce.value)}}},actions:{async fetchTlds({dispatch:e,commit:t,state:n}){if(t("setFactoryContract"),n.factoryContract){n.tlds=await n.factoryContract.getTldsArray();let r=[];if(n.tlds&&(r=JSON.parse(localStorage.getItem(n.tldsKey)),r===null&&(r=[])),r.length<n.tlds.length){localStorage.setItem(n.tldsKey,JSON.stringify(n.tlds));for(let i of n.tlds){let a=await n.factoryContract.tldNamesAddresses(i);n.tldAddresses[i]=a}localStorage.setItem(n.tldAddressesKey,JSON.stringify(n.tldAddresses))}else try{n.tldAddresses=JSON.parse(localStorage.getItem(n.tldAddressesKey))}catch{console.log("Error getting tldAddresses from local storage.")}e("user/fetchUserDomainNames",null,{root:!0});for(let i of n.tlds){const a=new w(I),c=await new D(n.tldAddresses[i],a,ce.value).price();n.domainPrices||(n.domainPrices={}),n.domainPrices[i]=c}}}}};const ei=we({modules:{network:Ya,user:Za,punk:Ga}});const H=De(et),ti={timeout:5e3,hideProgressBar:!0,closeButton:"button",position:ke.TOP_LEFT,toastClassName:"punk-toast-class",closeOnClick:!1,toastDefaults:{[m.INFO]:{timeout:!1,icon:!1}}};H.use(ja);H.use(ei);H.use(Ne,{infuraId:""});H.use(Te,ti);H.mount("#app");export{k as _};
